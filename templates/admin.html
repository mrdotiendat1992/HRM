<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Switch</title>
</head>
<body>
    <div class="custom-control custom-switch">
        <input type="checkbox" class="custom-control-input" id="customSwitch1" onchange="toggleFunction()">
        <label class="custom-control-label" for="customSwitch1">Tắt/bật function số 12</label>
    </div>

    <script>
        function toggleFunction() {
            let isChecked = document.getElementById('customSwitch1').checked;
            let apiUrl = '/bat_tat_12'; // Thay đổi URL API của bạn ở đây

            fetch(apiUrl, {
                method: 'POST', // Hoặc 'GET' tùy thuộc vào yêu cầu của bạn
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ state: isChecked }) // Gửi trạng thái của công tắc
            })
            .then(response => response.json())
            .then(data => {
                console.log('Success:', data);
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        }
    </script>