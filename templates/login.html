<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <style>
            #logo {
                width: 200px;
            }
            #main_window {
                justify-content: center;
                align-items: center;
                text-align: center;  
            }
            label {
                font-weight: bold;
                width: 120px;
                text-align: left;
            }
            input,select {
                width: 200px;
            }
        </style>
    </head>
    <body>
        <div class="container-fluid">
            <div class="row">
                <img src="static/Logo.png" alt="logo" id="logo">
            </div>
            <div class="row" id="main_window">
                <h3 style="font-weight: bold;margin-bottom:100px;">PHẦN MỀM QUẢN LÝ NHÂN SỰ</h3>
                <div>
                    <p>
                        <label for="congty">Mã công ty</label>
                        <select name="congty" id="congty">
                            <option value="NT0">NT0</option>
                            <option value="NT1">NT1</option>
                            <option value="NT2">NT2</option>
                        </select>
                    </p>
                    <p>
                        <label for="mst">Mã nhân viên</label>
                        <input type="text" name="mst" id="mst">
                    </p>
                    <p>
                        <label for="matkhau">Mật khẩu</label>
                        <input type="text" name="matkhau" id="matkhau">
                    </p>
                    <p>
                        <input class="btn btn-primary" type="submit" value="Đăng nhập" onclick="login()"/>
                    </p>
                    <p id="result"></p>
                </div>
            </div>
        </div>
        <script>
            function login() {
                var company = document.getElementById("congty").value;
                var mst = document.getElementById("mst").value;
                var matkhau = document.getElementById("matkhau").value;

                var result = document.getElementById("result");

                // Goi API
                axios.post('http://127.0.0.1/login?congty=' + company + '&mst=' + mst + '&matkhau=' + matkhau ,
                ).then(function (response) {
                    if (response.data.status == "success") {
                        window.location.href = "http://127.0.0.1/home";
                    } else {
                        result.innerHTML = response.data.message;
                    }
                }).catch(function (error) {
                    result.innerHTML = error.data;
                });
            }

        </script>
    </body>
</html>